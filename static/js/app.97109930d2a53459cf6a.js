webpackJsonp([1],{"4Cf0":function(t,e,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},[a("h2",[t._v("Аккаунты стим")]),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!t.$parent.editMode,expression:"!$parent.editMode"}],staticClass:"fa fa-edit fa-2x",on:{click:function(e){t.$parent.editMode=!0}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.$parent.editMode,expression:"$parent.editMode"}],staticClass:"fa-stack",on:{click:function(e){t.$parent.editMode=!1}}},[a("i",{staticClass:"fa fa-edit fa-stack-1x fa-2x"}),t._v(" "),a("i",{staticClass:"fa fa-times fa-stack-1x fa-3x",staticStyle:{color:"#e74c3c"}})])])},staticRenderFns:[]};e.a=n},HCTz:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),i=a("teIl"),o=a("woOf"),s=a.n(o),c={props:{confrimations:Array,accountName:String},methods:{accept_offer:function(t,e){this.$parent.$parent.ipc.send("accept_offer",{name:this.accountName,id:t,key:e})},decline_offer:function(t,e){this.$parent.$parent.ipc.send("decline_offer",{name:this.accountName,id:t,key:e})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},t._l(t.confrimations,function(e){return a("div",{key:e.id},[a("div",{staticClass:"confirmation"},[a("img",{attrs:{src:e.icon,width:"40",height:"40"}}),t._v(" "),a("span",{staticClass:"vertical_block"},[a("span",[t._v(t._s(e.receiving))]),t._v(" "),a("span",{staticClass:"horizontal_block"},[a("button",{on:{click:function(a){t.accept_offer(e.id,e.key)}}},[t._v("Принять")]),t._v(" "),a("button",{on:{click:function(a){t.decline_offer(e.id,e.key)}}},[t._v("Отклонить")])])])])])}))},staticRenderFns:[]};var d={components:{"confirm-template":a("VU/8")(c,r,!1,function(t){a("tl7y")},"data-v-e83b7ae2",null).exports},data:function(){return{accounts_vue:[],accounts_data:this.$parent.electron.remote.getGlobal("accounts"),get_guard_code:this.$parent.electron.remote.getGlobal("generate_auth_code")}},methods:{delete_acc:function(t){confirm("Вы уверены, что хотите удалить этот аккаунт?")&&(this.accounts_vue.splice(t,1),this.$parent.ipc.send("delete_acc",t))},edit_modal:function(t){this.$parent.editModalAccount=this.accounts_vue[t],this.$parent.editModalAccountID=t},relogin:function(t){this.$parent.ipc.send("login",t)},reload_gcodes:function(){for(var t in this.accounts_vue)this.accounts_vue[t].auth_code=this.get_guard_code(this.accounts_vue[t].shared_secret)},gcode_toclipboard:function(t){this.$parent.electron.clipboard.writeText(t),new Notification("Уведомление",{body:"Гуард код "+t+" скопирован в буффер обмена"})},sync_accounts:function(){for(var t in this.accounts_data)this.accounts_data[t].confirm_modal=!1,this.accounts_data[t].confirmations=[],this.$parent.ipc.send("login",this.accounts_data[t].name),this.$set(this.accounts_vue,t,s()({},this.accounts_data[t]))},get_confirmations:function(){for(var t in this.accounts_vue)this.$parent.ipc.send("get_confirmations",this.accounts_vue[t].name)}},created:function(){this.sync_accounts(),this.reload_gcodes();var t=this;setInterval(function(){t.reload_gcodes(),t.get_confirmations()},3e4),this.$parent.ipc.on("reload_accounts",function(e,a){t.accounts_data=t.$parent.electron.remote.getGlobal("accounts"),t.sync_accounts()}),this.$parent.ipc.on("new_confirmations",function(e,a){for(var n in t.accounts_vue){var i=t.accounts_vue[n];if(i.name===a.name){i.confirmations=a.confirmations;break}}})}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},[t.$parent.editMode?a("span",{staticClass:"account_cell add_new",on:{click:function(e){t.$parent.createMode=!0}}},[a("i",{staticClass:"fa fa-plus fa-3x"})]):t._e(),t._v(" "),t._l(t.accounts_vue,function(e,n){return a("div",{key:e.name,staticClass:"account_field"},[a("span",{staticClass:"account_cell existed"},[a("h3",{staticClass:"name",on:{click:function(t){e.confirm_modal=!e.confirm_modal}}},[t._v(t._s(e.name))]),t._v(" "),a("span",{staticClass:"code",on:{click:function(a){t.gcode_toclipboard(e.auth_code)}}},[t._v(t._s(e.auth_code)+"  "),a("i",{staticClass:"fa fa-copy"})]),t._v(" "),a("span",{staticClass:"icons_bar"},[a("i",{directives:[{name:"show",rawName:"v-show",value:t.$parent.editMode,expression:"$parent.editMode"}],staticClass:"fa fa-pencil-alt edit_acc",on:{click:function(e){t.edit_modal(n)}}}),t._v(" "),a("i",{staticClass:"fa fa-sync",on:{click:function(a){t.relogin(e.name)}}}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.$parent.editMode,expression:"$parent.editMode"}],staticClass:"fa fa-times delete_acc",on:{click:function(e){t.delete_acc(n)}}})])]),t._v(" "),a("transition",{attrs:{name:"fade"}},[a("confirm-template",{directives:[{name:"show",rawName:"v-show",value:e.confirm_modal,expression:"account.confirm_modal"}],attrs:{confrimations:e.confirmations,"account-name":e.name}})],1)],1)})],2)},staticRenderFns:[]};var u=a("VU/8")(d,l,!1,function(t){a("xTj9")},"data-v-075eb7cb",null).exports,f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},[a("div",{staticClass:"edit_form"},[a("i",{staticClass:"fa fa-times close_modal",on:{click:function(e){t.close_modal()}}}),t._v(" "),a("div",{staticClass:"form"},[a("label",{attrs:{for:"name"}},[t._v("Имя аккаунта")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.editModalAccount.name,expression:"$parent.editModalAccount.name"}],attrs:{type:"text",name:"name"},domProps:{value:t.$parent.editModalAccount.name},on:{input:function(e){e.target.composing||t.$set(t.$parent.editModalAccount,"name",e.target.value)}}}),t._v(" "),a("label",{attrs:{for:"shared_secret"}},[t._v("SHARED_SECRET")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.editModalAccount.shared_secret,expression:"$parent.editModalAccount.shared_secret"}],attrs:{type:"text",name:"shared_secret"},domProps:{value:t.$parent.editModalAccount.shared_secret},on:{input:function(e){e.target.composing||t.$set(t.$parent.editModalAccount,"shared_secret",e.target.value)}}}),t._v(" "),a("label",{attrs:{for:"identity_secret"}},[t._v("IDENTITY_SECRET")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.editModalAccount.identity_secret,expression:"$parent.editModalAccount.identity_secret"}],attrs:{type:"text",name:"identity_secret"},domProps:{value:t.$parent.editModalAccount.identity_secret},on:{input:function(e){e.target.composing||t.$set(t.$parent.editModalAccount,"identity_secret",e.target.value)}}}),t._v(" "),a("button",{on:{click:function(e){t.save_data()}}},[a("i",{staticClass:"fa fa-save fa-2x"})])])])])},staticRenderFns:[]};var _=a("VU/8")({methods:{save_data:function(){this.$parent.ipc.send("edit_acc",{id:this.$parent.editModalAccountID,account:this.$parent.editModalAccount}),this.close_modal()},close_modal:function(){this.$parent.editModalAccountID=null,this.$parent.editModalAccount={}}}},f,!1,function(t){a("uRrO")},"data-v-2762c124",null).exports,p={data:function(){return{status:1,login:null,password:null,shared_secret:null,identity_secret:null,email_code:null,sms_code:null,show_mailcode:!1}},methods:{close_modal:function(){this.$parent.createMode=!1},create_with2fa:function(){this.$parent.ipc.send("create_with2fa",[this.login,this.password,this.shared_secret,this.identity_secret])},create:function(){this.$parent.ipc.send("create_wout2fa",[this.login,this.password,this.email_code])},finalize:function(){this.$parent.ipc.send("finalize",[this.login,this.sms_code])}},created:function(){var t=this;this.$parent.ipc.on("account_added",function(e,a){t.$parent.createMode=!1,t.status=1,t.login=null,t.password=null,t.shared_secret=null,t.identity_secret=null,t.email_code=null,new Notification("Аккаунт успешно добавлен")}),this.$parent.ipc.on("show_mailcode_field",function(e){t.show_mailcode=!0}),this.$parent.ipc.on("show_smsfield",function(e){t.status=3})}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},[a("div",{staticClass:"create_account"},[a("i",{staticClass:"fa fa-times close_modal",on:{click:function(e){t.close_modal()}}}),t._v(" "),t.status<3?a("div",{staticClass:"buttons"},[a("button",{staticClass:"add_method",attrs:{id:2===t.status?"first":"second"},on:{click:function(e){t.status=1}}},[t._v("Аккаунт с 2FA")]),t._v(" "),a("button",{staticClass:"add_method",attrs:{id:1===t.status?"first":"second"},on:{click:function(e){t.status=2}}},[t._v("Аккаунт без 2FA")])]):t._e(),t._v(" "),1==t.status?a("div",{staticClass:"form"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"form_field",attrs:{type:"text",placeholder:"Логин"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form_field",attrs:{type:"text",placeholder:"Пароль"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.shared_secret,expression:"shared_secret"}],staticClass:"form_field",attrs:{type:"text",placeholder:"SHARED_SECRET"},domProps:{value:t.shared_secret},on:{input:function(e){e.target.composing||(t.shared_secret=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.identity_secret,expression:"identity_secret"}],staticClass:"form_field",attrs:{type:"text",placeholder:"IDENTITY_SECRET"},domProps:{value:t.identity_secret},on:{input:function(e){e.target.composing||(t.identity_secret=e.target.value)}}}),t._v(" "),a("button",{on:{click:function(e){t.create_with2fa()}}},[a("i",{staticClass:"fa fa-arrow-right fa-3x"})])]):t._e(),t._v(" "),2==t.status?a("div",{staticClass:"form"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"form_field",attrs:{type:"text",placeholder:"Логин"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form_field",attrs:{type:"text",placeholder:"Пароль"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"show",rawName:"v-show",value:t.show_mailcode,expression:"show_mailcode"},{name:"model",rawName:"v-model",value:t.email_code,expression:"email_code"}],staticClass:"form_field",attrs:{type:"text",placeholder:"Код Steam Guard"},domProps:{value:t.email_code},on:{input:function(e){e.target.composing||(t.email_code=e.target.value)}}}),t._v(" "),a("button",{on:{click:function(e){t.create()}}},[a("i",{staticClass:"fa fa-arrow-right fa-3x"})])]):t._e(),t._v(" "),3==t.status?a("div",{staticClass:"form"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.sms_code,expression:"sms_code"}],staticClass:"form_field",attrs:{type:"text",placeholder:"СМС код"},domProps:{value:t.sms_code},on:{input:function(e){e.target.composing||(t.sms_code=e.target.value)}}}),t._v(" "),a("button",{on:{click:function(e){t.finalize()}}},[a("i",{staticClass:"fa fa-arrow-right fa-3x"})])]):t._e()])])},staticRenderFns:[]};var v=a("VU/8")(p,m,!1,function(t){a("OrI/")},"data-v-003a06e3",null).exports,h={name:"App",components:{Header:i.default,Body:u,EditModal:_,NewAccountModal:v},data:function(){return{editMode:!1,editModalAccount:{},editModalAccountID:null,createMode:!1,ipc:window.require("electron").ipcRenderer,electron:window.require("electron")}},created:function(){this.ipc.on("login_error",function(t,e){new Notification("Ошибка при входе",{body:e})}),this.ipc.on("enable_2fa_error",function(t,e){new Notification("Ошибка при включении 2FA аутентификации",{body:e})}),this.ipc.on("notification",function(t,e){new Notification(e.title,{body:e.body})})}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("EditModal",{directives:[{name:"show",rawName:"v-show",value:null!=this.editModalAccountID,expression:"editModalAccountID != null"}]}),this._v(" "),e("NewAccountModal",{directives:[{name:"show",rawName:"v-show",value:0!=this.createMode,expression:"createMode != false"}]}),this._v(" "),e("Header"),this._v(" "),e("Body")],1)},staticRenderFns:[]};var g=a("VU/8")(h,w,!1,function(t){a("QodY")},null,null).exports;n.a.config.productionTip=!1,new n.a({el:"#app",components:{App:g},template:"<App/>"})},"OrI/":function(t,e){},QodY:function(t,e){},sW9s:function(t,e){},teIl:function(t,e,a){"use strict";var n=a("HCTz"),i=a.n(n),o=a("4Cf0");var s=function(t){a("sW9s")},c=a("VU/8")(i.a,o.a,!1,s,"data-v-71d3a9be",null);e.default=c.exports},tl7y:function(t,e){},uRrO:function(t,e){},xTj9:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.97109930d2a53459cf6a.js.map